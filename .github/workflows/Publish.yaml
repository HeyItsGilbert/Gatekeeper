name: Publish Module
on:
  push:
    branches:
      - main
  workflow_dispatch:
    inputs:
      version:
        description: "The version to publish. Leave empty to use the version in the module manifest."
        required: false
        type: string
      isPrerelease:
        description: "Is this a prerelease version?"
        required: false
        type: boolean
        default: false
      dry_run:
        description: "If true, skip actual publishing and just validate the workflow logic."
        required: false
        type: boolean
        default: false
jobs:
  publish:
    name: Publish Module
    uses: HeyItsGilbert/.github/.github/workflows/PublishModule.yml@main
    with:
      version: ${{ inputs.version || '' }}
      isPrerelease: ${{ inputs.isPrerelease || false }}
      dry_run: ${{ inputs.dry_run || false }}
    secrets: inherit
